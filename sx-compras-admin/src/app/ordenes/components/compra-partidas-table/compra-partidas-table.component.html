<div [formGroup]="parent">
  <table mat-table formArrayName="partidas" [dataSource]="partidas">
    <ng-container matColumnDef="clave">
      <th mat-header-cell *matHeaderCellDef>Producto</th>
      <td mat-cell *matCellDef="let row">{{row.clave}}</td>
    </ng-container>
    <ng-container matColumnDef="descripcion">
      <th mat-header-cell *matHeaderCellDef>Descripci√≥n</th>
      <td mat-cell *matCellDef="let row">{{row.descripcion}}</td>
    </ng-container>
    <ng-container matColumnDef="unidad">
      <th mat-header-cell *matHeaderCellDef>Unidad</th>
      <td mat-cell *matCellDef="let row">{{row.unidad}}</td>
    </ng-container>

    <ng-container matColumnDef="solicitado">
      <th mat-header-cell *matHeaderCellDef>Solicitado</th>
      <td mat-cell *matCellDef="let row">
        <input type="number" [(ngModel)]="row.solicitado" [ngModelOptions]="{standalone: true}" (input)="actualizar(row)" [disabled]="readOnly">
      </td>
    </ng-container>

    <ng-container matColumnDef="precio">
      <th mat-header-cell *matHeaderCellDef>Precio</th>
      <td mat-cell *matCellDef="let row">
        {{row.precio | currency}}
      </td>
    </ng-container>

    <ng-container matColumnDef="descuento1">
      <th mat-header-cell *matHeaderCellDef>Desc 1</th>
      <td mat-cell *matCellDef="let row">
        {{row.descuento1}}
      </td>
    </ng-container>

    <ng-container matColumnDef="descuento2">
      <th mat-header-cell *matHeaderCellDef>Desc 2</th>
      <td mat-cell *matCellDef="let row">
        {{row.descuento2}}
      </td>
    </ng-container>

    <ng-container matColumnDef="descuento3">
      <th mat-header-cell *matHeaderCellDef>Desc 3</th>
      <td mat-cell *matCellDef="let row">
        {{row.descuento3}}
      </td>
    </ng-container>

    <ng-container matColumnDef="descuento4">
      <th mat-header-cell *matHeaderCellDef>Desc 4</th>
      <td mat-cell *matCellDef="let row">
        {{row.descuento4}}
      </td>
    </ng-container>



    <ng-container matColumnDef="importeNeto">
      <th mat-header-cell *matHeaderCellDef>Importe</th>
      <td mat-cell *matCellDef="let row">
        {{row.importeNeto | currency}}
      </td>
    </ng-container>

    <ng-container matColumnDef="operaciones">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let row, let i = index">
        <mat-icon color="warn" class="cursor-pointer" *ngIf="!readOnly" (click)="delete.emit(i)">delete</mat-icon>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let cfdi; columns: displayColumns; "></tr>

  </table>
</div>
