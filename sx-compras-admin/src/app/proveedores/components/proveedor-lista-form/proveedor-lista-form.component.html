<mat-card>
  <mat-card-title-group>
    <mat-card-title>{{title}}</mat-card-title>
  </mat-card-title-group>
  <mat-divider></mat-divider>
  <mat-card-content>
    <form [formGroup]="form">
      <div layout>
        <sx-ejercicio-field [parent]="form"></sx-ejercicio-field>
        <sx-mes-field [parent]="form" class="pad-left"></sx-mes-field>
        <sx-moneda-field [parent]="form" class="pad-left"></sx-moneda-field>
        <sx-upper-case-field formControlName="descripcion" flex></sx-upper-case-field>

      </div>
      <sx-proveedor-lista-partidas [parent]="form" [partidas]="partidas.value" (update)="onUpdateRow($event)" (delete)="onDeleteRow($event)">
      </sx-proveedor-lista-partidas>
    </form>
  </mat-card-content>

  <mat-card-actions>
    <button mat-button (click)="cancel.emit()">
      <mat-icon>cancel</mat-icon> Cancelar
    </button>
    <button mat-button (click)="onSubmit()" [disabled]="form.invalid || form.pristine">
      <mat-icon>save</mat-icon>Salvar
    </button>
    <button mat-button color="primary" type="button" (click)="aplicar.emit(listaDePrecios)" *ngIf="listaDePrecios?.id && !listaDePrecios?.aplicada">
      <mat-icon>check_circle</mat-icon> Aplicar
    </button>
  </mat-card-actions>

</mat-card>
